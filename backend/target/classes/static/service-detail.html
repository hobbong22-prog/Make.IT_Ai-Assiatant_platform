<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaKIT - ìì—°ì–´ ë¶„ì„ | Human.Ai.D</title>
    <link rel="stylesheet" href="service-detail-styles.css">
</head>
<body>
    <!-- ì‚¬ìš©ì ì •ë³´ -->
    <div id="userInfo" class="user-info" style="display: none;">
        <span id="userName"></span>
        <button onclick="logout()" class="logout-btn">ë¡œê·¸ì•„ì›ƒ</button>
    </div>

    <div class="app-container">
        <!-- ì‚¬ì´ë“œë°” -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-text">MaKIT</div>
                </div>
                <button class="sidebar-toggle">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"></path>
                    </svg>
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Home</div>
                    <a href="index.html" class="nav-item">
                        <span>Overview</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
                            <path d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                        </svg>
                    </a>
                    <a href="all-services.html" class="nav-item">
                        <span>All Services</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"></path>
                        </svg>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Services by Category</div>
                    
                    <div class="nav-dropdown expanded">
                        <div class="nav-dropdown-header">
                            <span>AX Data Intelligence</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" class="expanded">
                                <path d="m6 9 6 6 6-6"></path>
                            </svg>
                        </div>
                        <div class="nav-dropdown-content">
                            <a href="service-detail.html" class="nav-sub-item active">ìì—°ì–´ ë¶„ì„</a>
                            <a href="#" class="nav-sub-item">ìœ íŠœë¸Œ ëŒ“ê¸€ ë¶„ì„</a>
                            <a href="#" class="nav-sub-item">ìœ íŠœë¸Œ ì˜í–¥ë ¥ ë¶„ì„</a>
                            <a href="#" class="nav-sub-item">ì›¹ì‚¬ì´íŠ¸ URL ë¶„ì„</a>
                            <a href="#" class="nav-sub-item">ìœ íŠœë¸Œ í‚¤ì›Œë“œ ì±„ë„ ê²€ìƒ‰</a>
                        </div>
                    </div>

                    <div class="nav-dropdown">
                        <div class="nav-dropdown-header">
                            <span>AX Marketing Intelligence</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="m9 18 6-6-6-6"></path>
                            </svg>
                        </div>
                    </div>


                </div>

                <a href="intro.html" class="nav-item go-to-web">
                    <span>Go to Web</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14 21 3"></path>
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    </svg>
                </a>
            </nav>
        </aside>

        <!-- ë©”ì¸ ì½˜í…ì¸  -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- ë¸Œë ˆë“œí¬ëŸ¼ -->
                <div class="breadcrumb">
                    <a href="all-services.html" class="breadcrumb-back">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="m12 19-7-7 7-7"></path>
                            <path d="M19 12H5"></path>
                        </svg>
                        Back to All Services
                    </a>
                    <a href="all-services.html?category=data-intelligence" class="breadcrumb-category">AX Data Intelligence</a>
                </div>

                <!-- ì„œë¹„ìŠ¤ í—¤ë” -->
                <div class="service-header">
                    <h1 class="service-title">ìì—°ì–´ ë¶„ì„</h1>
                    <h2 class="service-subtitle">ë¹„ë°ì´í„° ì§êµ°ë„ ì‰½ê²Œ ë¶„ì„í•˜ë„ë¡</h2>
                    <p class="service-description">
                        ë¹„ì •í˜• í…ìŠ¤íŠ¸ ë°ì´í„°ì—ì„œ ì˜ë¯¸ìˆëŠ” ì¸ì‚¬ì´íŠ¸ë¥¼ ì¶”ì¶œí•©ë‹ˆë‹¤. 
                        ê°ì • ë¶„ì„, ì£¼ì œ ë¶„ë¥˜, í•µì‹¬ í‚¤ì›Œë“œ ì¶”ì¶œì„ í†µí•´ ê³ ê°ì˜ ì§„ì§œ ëª©ì†Œë¦¬ë¥¼ ì •í™•í•˜ê²Œ ì´í•´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>

                <!-- ë°ëª¨ ì¸í„°í˜ì´ìŠ¤ -->
                <div class="demo-interface">
                    <!-- ë°ëª¨ í—¤ë” -->
                    <div class="demo-header">
                        <div class="assistant-avatar">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 8V4H8"></path>
                                <rect width="16" height="12" x="4" y="8" rx="2"></rect>
                                <path d="M2 14h2"></path>
                                <path d="M20 14h2"></path>
                                <path d="M15 13v2"></path>
                                <path d="M9 13v2"></path>
                            </svg>
                        </div>
                        <div class="assistant-info">
                            <h3>ìì—°ì–´ ë¶„ì„ ì–´ì‹œìŠ¤í„´íŠ¸</h3>
                            <p>ë°ì´í„°ë¥¼ ìì—°ì–´ë¡œ ì‰½ê²Œ ë¶„ì„í•˜ì„¸ìš”</p>
                        </div>
                    </div>

                    <!-- ì±„íŒ… ì˜ì—­ -->
                    <div class="chat-area">
                        <div class="chat-welcome">
                            <div class="welcome-icon">
                                <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 8V4H8"></path>
                                    <rect width="16" height="12" x="4" y="8" rx="2"></rect>
                                    <path d="M2 14h2"></path>
                                    <path d="M20 14h2"></path>
                                    <path d="M15 13v2"></path>
                                    <path d="M9 13v2"></path>
                                </svg>
                            </div>
                            <h3>ìì—°ì–´ë¡œ ë°ì´í„°ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”</h3>
                            <p>ì•„ë˜ ì˜ˆì‹œ ì§ˆë¬¸ì„ ì„ íƒí•˜ì—¬ ë°ì´í„° ì¸ì‚¬ì´íŠ¸ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³µì¡í•œ SQL ì¿¼ë¦¬ ì—†ì´ë„ ìì—°ì–´ë¡œ ë°ì´í„°ë¥¼ ë¶„ì„í•´ë³´ì„¸ìš”.</p>
                            <div class="demo-notice">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                                ë°ëª¨ì—ì„œëŠ” ìƒ˜í”Œ ì§ˆë¬¸ë§Œ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
                            </div>
                        </div>

                        <!-- ì±„íŒ… ë©”ì‹œì§€ ì˜ì—­ (ë™ì ìœ¼ë¡œ ì¶”ê°€ë  ì˜ˆì •) -->
                        <div id="chat-messages" class="chat-messages"></div>
                    </div>

                    <!-- ì˜ˆì‹œ ì§ˆë¬¸ ì„¹ì…˜ -->
                    <div class="example-questions">
                        <div class="questions-header">
                            <h4>
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                                </svg>
                                ì˜ˆì‹œ ì§ˆë¬¸
                            </h4>
                        </div>
                        
                        <div class="questions-grid">
                            <button class="question-btn" data-question="ìµœê·¼ 1ì£¼ì¼ê°„ ë§¤ì¶œ ì¶”ì´ë¥¼ ì•Œë ¤ì¤˜">
                                <span class="question-number">1</span>
                                <span class="question-text">ìµœê·¼ 1ì£¼ì¼ê°„ ë§¤ì¶œ ì¶”ì´ë¥¼ ì•Œë ¤ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ê°€ì¥ ë§ì´ íŒ”ë¦° ìƒí’ˆ ì¹´í…Œê³ ë¦¬ TOP 5ëŠ”?">
                                <span class="question-number">2</span>
                                <span class="question-text">ê°€ì¥ ë§ì´ íŒ”ë¦° ìƒí’ˆ ì¹´í…Œê³ ë¦¬ TOP 5ëŠ”?</span>
                            </button>
                            
                            <button class="question-btn" data-question="ê³ ê° ì—°ë ¹ëŒ€ë³„ êµ¬ë§¤ íŒ¨í„´ì„ ë¶„ì„í•´ì¤˜">
                                <span class="question-number">3</span>
                                <span class="question-text">ê³ ê° ì—°ë ¹ëŒ€ë³„ êµ¬ë§¤ íŒ¨í„´ì„ ë¶„ì„í•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ì˜¨ë¼ì¸ê³¼ ì˜¤í”„ë¼ì¸ ë§¤ì¥ì˜ ë§¤ì¶œ ë¹„êµ">
                                <span class="question-number">4</span>
                                <span class="question-text">ì˜¨ë¼ì¸ê³¼ ì˜¤í”„ë¼ì¸ ë§¤ì¥ì˜ ë§¤ì¶œ ë¹„êµ</span>
                            </button>
                            
                            <button class="question-btn" data-question="ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì œí’ˆì˜ ì›”ë³„ íŒë§¤ ì¶”ì´ëŠ”?">
                                <span class="question-number">5</span>
                                <span class="question-text">ë² ìŠ¤íŠ¸ì…€ëŸ¬ ì œí’ˆì˜ ì›”ë³„ íŒë§¤ ì¶”ì´ëŠ”?</span>
                            </button>
                            
                            <button class="question-btn" data-question="ê³ ê° ë§Œì¡±ë„ê°€ ê°€ì¥ ë†’ì€ ì œí’ˆì€?">
                                <span class="question-number">6</span>
                                <span class="question-text">ê³ ê° ë§Œì¡±ë„ê°€ ê°€ì¥ ë†’ì€ ì œí’ˆì€?</span>
                            </button>
                            
                            <button class="question-btn" data-question="ë§ˆì¼€íŒ… ì±„ë„ë³„ ROI ë¶„ì„í•´ì¤˜">
                                <span class="question-number">7</span>
                                <span class="question-text">ë§ˆì¼€íŒ… ì±„ë„ë³„ ROI ë¶„ì„í•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ì‹ ê·œ ê³ ê°ê³¼ ì¬êµ¬ë§¤ ê³ ê°ì˜ êµ¬ë§¤ íŒ¨í„´ ë¹„êµí•´ì¤˜">
                                <span class="question-number">8</span>
                                <span class="question-text">ì‹ ê·œ ê³ ê°ê³¼ ì¬êµ¬ë§¤ ê³ ê°ì˜ êµ¬ë§¤ íŒ¨í„´ ë¹„êµí•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ ê³„ì ˆì„± íŠ¸ë Œë“œ ë¶„ì„í•´ì¤˜">
                                <span class="question-number">9</span>
                                <span class="question-text">ì œí’ˆ ì¹´í…Œê³ ë¦¬ë³„ ê³„ì ˆì„± íŠ¸ë Œë“œ ë¶„ì„í•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ê³ ê° ì´íƒˆ ì›ì¸ê³¼ ë°©ì§€ ì „ëµ ì œì•ˆí•´ì¤˜">
                                <span class="question-number">10</span>
                                <span class="question-text">ê³ ê° ì´íƒˆ ì›ì¸ê³¼ ë°©ì§€ ì „ëµ ì œì•ˆí•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ë¦¬ ì œí’ˆì˜ ì‹œì¥ í¬ì§€ì…”ë‹ ë¶„ì„í•´ì¤˜">
                                <span class="question-number">11</span>
                                <span class="question-text">ê²½ìŸì‚¬ ëŒ€ë¹„ ìš°ë¦¬ ì œí’ˆì˜ ì‹œì¥ í¬ì§€ì…”ë‹ ë¶„ì„í•´ì¤˜</span>
                            </button>
                            
                            <button class="question-btn" data-question="ì†Œì…œ ë¯¸ë””ì–´ ë§ˆì¼€íŒ… ì„±ê³¼ ë¶„ì„ ë° ê°œì„ ì  ì œì•ˆí•´ì¤˜">
                                <span class="question-number">12</span>
                                <span class="question-text">ì†Œì…œ ë¯¸ë””ì–´ ë§ˆì¼€íŒ… ì„±ê³¼ ë¶„ì„ ë° ê°œì„ ì  ì œì•ˆí•´ì¤˜</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        // ì§ˆë¬¸ ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
        document.querySelectorAll('.question-btn').forEach(btn => {
            btn.addEventListener('click', () => {
                const question = btn.dataset.question;
                simulateChat(question);
            });
        });

        // ì±„íŒ… ì‹œë®¬ë ˆì´ì…˜
        function simulateChat(question) {
            const chatMessages = document.getElementById('chat-messages');
            const chatWelcome = document.querySelector('.chat-welcome');
            
            // ì›°ì»´ ë©”ì‹œì§€ ìˆ¨ê¸°ê¸°
            if (chatWelcome) {
                chatWelcome.style.display = 'none';
            }
            
            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.innerHTML = `
                <div class="message-content">
                    <p>${question}</p>
                </div>
            `;
            chatMessages.appendChild(userMessage);
            
            // ë¡œë”© ë©”ì‹œì§€ ì¶”ê°€
            const loadingMessage = document.createElement('div');
            loadingMessage.className = 'message bot-message loading';
            loadingMessage.innerHTML = `
                <div class="message-avatar">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M12 8V4H8"></path>
                        <rect width="16" height="12" x="4" y="8" rx="2"></rect>
                        <path d="M2 14h2"></path>
                        <path d="M20 14h2"></path>
                        <path d="M15 13v2"></path>
                        <path d="M9 13v2"></path>
                    </svg>
                </div>
                <div class="message-content">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            `;
            chatMessages.appendChild(loadingMessage);
            
            // ìŠ¤í¬ë¡¤ í•˜ë‹¨ìœ¼ë¡œ
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // 2ì´ˆ í›„ ì‘ë‹µ ë©”ì‹œì§€
            setTimeout(() => {
                loadingMessage.remove();
                
                const botMessage = document.createElement('div');
                botMessage.className = 'message bot-message';
                botMessage.innerHTML = `
                    <div class="message-avatar">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 8V4H8"></path>
                            <rect width="16" height="12" x="4" y="8" rx="2"></rect>
                            <path d="M2 14h2"></path>
                            <path d="M20 14h2"></path>
                            <path d="M15 13v2"></path>
                            <path d="M9 13v2"></path>
                        </svg>
                    </div>
                    <div class="message-content">
                        <p>ë¶„ì„ì„ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ìš”ì²­í•˜ì‹  "${question}"ì— ëŒ€í•œ ê²°ê³¼ë¥¼ ë³´ì—¬ë“œë¦¬ê² ìŠµë‹ˆë‹¤.</p>
                        <div class="analysis-result">
                            <div class="chart-placeholder">
                                ğŸ“Š ì°¨íŠ¸ ë° ë¶„ì„ ê²°ê³¼ê°€ ì—¬ê¸°ì— í‘œì‹œë©ë‹ˆë‹¤
                            </div>
                            <p class="result-summary">ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ìƒì„¸í•œ ë°ì´í„° ë¶„ì„ ê²°ê³¼ì™€ ì‹œê°í™”ëœ ì°¨íŠ¸ê°€ ì œê³µë©ë‹ˆë‹¤.</p>
                        </div>
                    </div>
                `;
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 2000);
        }

        // ë“œë¡­ë‹¤ìš´ í† ê¸€
        document.querySelectorAll('.nav-dropdown-header').forEach(header => {
            header.addEventListener('click', () => {
                const dropdown = header.parentElement;
                dropdown.classList.toggle('expanded');
            });
        });

        // ì‚¬ìš©ì ì •ë³´ ë¡œë“œ ë° ë°±ì—”ë“œ ì—°ë™
        const API_BASE_URL = 'http://localhost:8083/api';
        let currentUser = null;

        window.addEventListener('load', async () => {
            const token = localStorage.getItem('makit_token');
            if (token) {
                try {
                    const response = await fetch(`${API_BASE_URL}/auth/me`, {
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });

                    if (response.ok) {
                        currentUser = await response.json();
                        document.getElementById('userName').textContent = `${currentUser.username}ë‹˜`;
                        document.getElementById('userInfo').style.display = 'block';
                    }
                } catch (error) {
                    console.error('Error loading user info:', error);
                }
            }
        });

        function logout() {
            localStorage.removeItem('makit_token');
            localStorage.removeItem('makit_user');
            window.location.href = '/login.html';
        }

        // ì‹¤ì œ AI ì½˜í…ì¸  ìƒì„± ê¸°ëŠ¥ ì—°ë™
        async function analyzeText() {
            const input = document.getElementById('textInput').value;
            if (!input.trim()) {
                alert('ë¶„ì„í•  í…ìŠ¤íŠ¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            if (!currentUser) {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                window.location.href = '/login.html';
                return;
            }

            const chatMessages = document.getElementById('chatMessages');
            
            // ì‚¬ìš©ì ë©”ì‹œì§€ ì¶”ê°€
            const userMessage = document.createElement('div');
            userMessage.className = 'message user-message';
            userMessage.innerHTML = `
                <div class="message-content">
                    <strong>ë¶„ì„ ìš”ì²­:</strong><br>
                    ${input}
                </div>
                <div class="message-time">${new Date().toLocaleTimeString()}</div>
            `;
            chatMessages.appendChild(userMessage);

            // AI ì‘ë‹µ ë¡œë”© ë©”ì‹œì§€
            const loadingMessage = document.createElement('div');
            loadingMessage.className = 'message ai-message';
            loadingMessage.innerHTML = `
                <div class="message-content">
                    <div class="typing-indicator">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    AIê°€ í…ìŠ¤íŠ¸ë¥¼ ë¶„ì„í•˜ê³  ìˆìŠµë‹ˆë‹¤...
                </div>
            `;
            chatMessages.appendChild(loadingMessage);
            chatMessages.scrollTop = chatMessages.scrollHeight;

            try {
                // ì‹¤ì œ AI ì½˜í…ì¸  ìƒì„± API í˜¸ì¶œ
                const response = await fetch(`${API_BASE_URL}/content/generate/blog`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${localStorage.getItem('makit_token')}`
                    },
                    body: JSON.stringify({
                        userId: currentUser.id,
                        topic: `í…ìŠ¤íŠ¸ ë¶„ì„: ${input}`,
                        targetAudience: 'ë°ì´í„° ë¶„ì„ê°€'
                    })
                });

                // ë¡œë”© ë©”ì‹œì§€ ì œê±°
                chatMessages.removeChild(loadingMessage);

                if (response.ok) {
                    const aiResponse = document.createElement('div');
                    aiResponse.className = 'message ai-message';
                    aiResponse.innerHTML = `
                        <div class="message-content">
                            <strong>âœ… ë¶„ì„ ì™„ë£Œ!</strong><br>
                            AI ê¸°ë°˜ í…ìŠ¤íŠ¸ ë¶„ì„ì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. ìƒì„±ëœ ì½˜í…ì¸ ëŠ” ëŒ€ì‹œë³´ë“œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                            <br><br>
                            <a href="/dashboard.html" style="color: #007bff;">ëŒ€ì‹œë³´ë“œì—ì„œ ê²°ê³¼ ë³´ê¸° â†’</a>
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString()}</div>
                    `;
                    chatMessages.appendChild(aiResponse);
                } else {
                    const errorResponse = document.createElement('div');
                    errorResponse.className = 'message ai-message';
                    errorResponse.innerHTML = `
                        <div class="message-content">
                            <strong>âŒ ì˜¤ë¥˜ ë°œìƒ</strong><br>
                            í…ìŠ¤íŠ¸ ë¶„ì„ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.
                        </div>
                        <div class="message-time">${new Date().toLocaleTimeString()}</div>
                    `;
                    chatMessages.appendChild(errorResponse);
                }
            } catch (error) {
                chatMessages.removeChild(loadingMessage);
                const errorResponse = document.createElement('div');
                errorResponse.className = 'message ai-message';
                errorResponse.innerHTML = `
                    <div class="message-content">
                        <strong>âŒ ì—°ê²° ì˜¤ë¥˜</strong><br>
                        ì„œë²„ì— ì—°ê²°í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë„¤íŠ¸ì›Œí¬ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.
                    </div>
                    <div class="message-time">${new Date().toLocaleTimeString()}</div>
                `;
                chatMessages.appendChild(errorResponse);
            }

            chatMessages.scrollTop = chatMessages.scrollHeight;
            document.getElementById('textInput').value = '';
        }
    </script>
</body>
</html>