<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MaKIT - AX ÎßàÏºÄÌåÖ ÌîåÎû´Ìèº | Human.Ai.D</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- ÏÉÅÎã® ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò Ï∂îÍ∞Ä -->
    <nav class="top-nav">
        <div class="top-nav-container">
            <a href="intro.html" class="nav-back">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5"></path>
                    <path d="M12 19l-7-7 7-7"></path>
                </svg>
                Ï†úÌíà ÏÜåÍ∞ú
            </a>
        </div>
    </nav>

    <!-- Î°úÍ∑∏Ïù∏ ÏÉÅÌÉú ÌôïÏù∏ Î∞è ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ -->
    <div id="userInfo" class="user-info" style="display: none;">
        <span id="userName"></span>
        <button onclick="logout()" class="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
    </div>

    <div class="app-container">
        <!-- ÏÇ¨Ïù¥ÎìúÎ∞î -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <div class="logo-text">MaKIT</div>
                </div>
                <button class="sidebar-toggle">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="m6 9 6 6 6-6"></path>
                    </svg>
                </button>
            </div>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Home</div>
                    <a href="#" class="nav-item active">
                        <span>Overview</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8"></path>
                            <path
                                d="M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z">
                            </path>
                        </svg>
                    </a>
                    <a href="all-services.html" class="nav-item">
                        <span>All Services</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path
                                d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z">
                            </path>
                        </svg>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Services by Category</div>

                    <div class="nav-dropdown">
                        <div class="nav-dropdown-header">
                            <span>AX Data Intelligence</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="m9 18 6-6-6-6"></path>
                            </svg>
                        </div>
                    </div>

                    <div class="nav-dropdown">
                        <div class="nav-dropdown-header">
                            <span>AX Marketing Intelligence</span>
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="m9 18 6-6-6-6"></path>
                            </svg>
                        </div>
                    </div>


                </div>

                <a href="intro.html" class="nav-item go-to-web">
                    <span>Go to Web</span>
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14 21 3"></path>
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                    </svg>
                </a>
            </nav>
        </aside>

        <!-- Î©îÏù∏ ÏΩòÌÖêÏ∏† -->
        <main class="main-content">
            <div class="content-wrapper">
                <!-- ÌûàÏñ¥Î°ú ÏÑπÏÖò -->
                <div class="hero-section">
                    <div class="hero-content">
                        <div class="hero-text">
                            <h1 class="hero-title">Welcome To<br />MaKIT Platform!</h1>
                            <p class="hero-subtitle">AI Í∏∞Î∞ò ÎßàÏºÄÌåÖ ÌîåÎû´ÌèºÏùò Í∞ïÎ†•Ìïú Í∏∞Îä•Îì§ÏùÑ ÏßÅÏ†ë Ï≤¥ÌóòÌï¥Î≥¥ÏÑ∏Ïöî</p>
                            <a href="all-services.html" class="cta-button">
                                Go To All Services
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                    stroke-width="2">
                                    <path d="M7 7h10v10"></path>
                                    <path d="M7 17 17 7"></path>
                                </svg>
                            </a>
                        </div>

                        <div class="hero-visual">
                            <div class="demo-mockup">
                                <div class="mockup-header">
                                    <div class="mockup-dots">
                                        <span></span>
                                        <span></span>
                                        <span></span>
                                    </div>
                                    <div class="mockup-title">MaKIT Dashboard</div>
                                </div>
                                <div class="mockup-content">
                                    <img src="https://101.hurdlers.kr/_next/image?url=%2Fv3%2Fdemo%2Fimage.png&w=1080&q=75"
                                        alt="Demo Dashboard" class="demo-image">
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- ÌÜµÍ≥Ñ ÏÑπÏÖò -->
                    <div class="stats-section">
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-number">94<span>%</span></div>
                                <div class="stat-label">Í≥†Í∞ù ÎßåÏ°±ÎèÑ</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number">54<span>%</span></div>
                                <div class="stat-label">ÎπÑÏö© Ï†àÍ∞ê</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number">123<span>h</span></div>
                                <div class="stat-label">ÌèâÍ∑† ÏãúÍ∞Ñ Ï†àÏïΩ</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-number">2<span>w</span></div>
                                <div class="stat-label">ÌèâÍ∑† ÏûëÏóÖ Í∏∞Í∞Ñ</div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ÏÑúÎπÑÏä§ ÏÑπÏÖò -->
                <div id="services" class="services-section">
                    <h2 class="section-title">ÌïµÏã¨ ÏÑúÎπÑÏä§</h2>
                    <div class="services-grid">
                        <div class="service-card">
                            <div class="service-header">
                                <div class="service-icon">üß†</div>
                                <h3>AX Data Intelligence</h3>
                            </div>
                            <p>Îç∞Ïù¥ÌÑ∞ ÌÜµÌï©Î∂ÄÌÑ∞ ÏòàÏ∏° Î∂ÑÏÑùÍπåÏßÄ Ï†ÑÍ≥ºÏ†ïÏóê AI Í∏∞Ïà†ÏùÑ Ï†ÅÏö©Ìï©ÎãàÎã§.</p>
                            <div class="service-features">
                                <span class="feature-tag">ÏûêÏó∞Ïñ¥ Î∂ÑÏÑù</span>
                                <span class="feature-tag">Ïú†ÌäúÎ∏å ÎåìÍ∏Ä Î∂ÑÏÑù</span>
                                <span class="feature-tag">URL Î∂ÑÏÑù</span>
                            </div>
                            <div class="service-image">
                                <img src="https://101.hurdlers.kr/_next/image?url=%2Fv3%2Fdemo%2Fax-data.png&w=1080&q=75"
                                    alt="AX Data Intelligence">
                            </div>
                        </div>

                        <div class="service-card">
                            <div class="service-header">
                                <div class="service-icon">üé®</div>
                                <h3>AX Marketing Intelligence</h3>
                            </div>
                            <p>AI Í∏∞Î∞òÏúºÎ°ú ÎßàÏºÄÌåÖ ÏΩòÌÖêÏ∏†Î•º ÏÉùÏÑ±ÌïòÍ≥† ÏµúÏ†ÅÌôîÌï©ÎãàÎã§.</p>
                            <div class="service-features">
                                <span class="feature-tag">ÌîºÎìú ÏÉùÏÑ±</span>
                                <span class="feature-tag">Î∞∞Í≤Ω Ï†úÍ±∞</span>
                                <span class="feature-tag">ÏΩòÌÖêÏ∏† ÏµúÏ†ÅÌôî</span>
                            </div>
                            <div class="service-image">
                                <img src="https://101.hurdlers.kr/_next/image?url=%2Fv3%2Fdemo%2Fax-marketing.png&w=1080&q=75"
                                    alt="AX Marketing Intelligence">
                            </div>
                        </div>


                    </div>
                </div>
            </div>
        </main>
    </div>

    <script>
        const API_BASE_URL = 'http://localhost:8083/api';
        let currentUser = null;

        // ÌéòÏù¥ÏßÄ Î°úÎìú Ïãú ÏÇ¨Ïö©Ïûê Ï†ïÎ≥¥ ÌôïÏù∏
        window.addEventListener('load', async () => {
            const token = localStorage.getItem('makit_token');
            if (token) {
                try {
                    const response = await fetch(`${API_BASE_URL}/auth/me`, {
                        headers: {
                            'Authorization': `Bearer ${token}`
                        }
                    });

                    if (response.ok) {
                        currentUser = await response.json();
                        document.getElementById('userName').textContent = `${currentUser.username}Îãò`;
                        document.getElementById('userInfo').style.display = 'block';
                        loadUserData();
                    }
                } catch (error) {
                    console.error('Error loading user info:', error);
                }
            }
        });

        async function loadUserData() {
            if (!currentUser) return;

            try {
                // ÏÇ¨Ïö©ÏûêÏùò Ï∫†ÌéòÏù∏ Ïàò Î°úÎìú
                const campaignsResponse = await fetch(`${API_BASE_URL}/campaigns/user/${currentUser.id}`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('makit_token')}`
                    }
                });
                
                if (campaignsResponse.ok) {
                    const campaigns = await campaignsResponse.json();
                    console.log(`ÏÇ¨Ïö©Ïûê Ï∫†ÌéòÏù∏ Ïàò: ${campaigns.length}`);
                }

                // ÏÇ¨Ïö©ÏûêÏùò ÏΩòÌÖêÏ∏† Ïàò Î°úÎìú
                const contentsResponse = await fetch(`${API_BASE_URL}/content/user/${currentUser.id}`, {
                    headers: {
                        'Authorization': `Bearer ${localStorage.getItem('makit_token')}`
                    }
                });
                
                if (contentsResponse.ok) {
                    const contents = await contentsResponse.json();
                    console.log(`ÏÇ¨Ïö©Ïûê ÏΩòÌÖêÏ∏† Ïàò: ${contents.length}`);
                }

            } catch (error) {
                console.error('Error loading user data:', error);
            }
        }

        function logout() {
            localStorage.removeItem('makit_token');
            localStorage.removeItem('makit_user');
            document.getElementById('userInfo').style.display = 'none';
            currentUser = null;
            window.location.href = '/login.html';
        }

        // ÏÑúÎπÑÏä§ Ïπ¥Îìú ÌÅ¥Î¶≠ Ïù¥Î≤§Ìä∏
        document.addEventListener('DOMContentLoaded', function() {
            const serviceCards = document.querySelectorAll('.service-card');
            serviceCards.forEach(card => {
                card.addEventListener('click', function() {
                    const serviceName = this.querySelector('h3').textContent;
                    if (serviceName.includes('Data Intelligence')) {
                        window.location.href = '/service-detail.html?service=data';
                    } else if (serviceName.includes('Marketing Intelligence')) {
                        window.location.href = '/service-detail.html?service=marketing';

                });
            });
        });
    </script>
</body>

</html>